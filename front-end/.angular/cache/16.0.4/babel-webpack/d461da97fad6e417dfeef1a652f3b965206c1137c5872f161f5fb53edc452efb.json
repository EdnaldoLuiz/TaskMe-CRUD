{"ast":null,"code":"import { ExclusaoComponente } from '../exclusao/exclusao.component';\nimport { CreateUserComponent } from '../create-user/create-user.component';\nimport { UpdateFormComponent } from '../update-form/update-form.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/users.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/common\";\nfunction UsersComponent_div_1_img_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 17);\n  }\n  if (rf & 2) {\n    const user_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"src\", user_r1.photo, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction UsersComponent_div_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 18);\n  }\n}\nfunction UsersComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4);\n    i0.ɵɵtemplate(3, UsersComponent_div_1_img_3_Template, 1, 1, \"img\", 5);\n    i0.ɵɵtemplate(4, UsersComponent_div_1_div_4_Template, 1, 0, \"div\", 6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 7)(6, \"p\", 8)(7, \"strong\");\n    i0.ɵɵtext(8, \"Nome:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 9)(11, \"strong\");\n    i0.ɵɵtext(12, \"E-mail:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\", 10)(15, \"strong\");\n    i0.ɵɵtext(16, \"Data de Cria\\u00E7\\u00E3o:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"div\", 11)(19, \"div\", 12)(20, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_1_Template_button_click_20_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const user_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.exibirPopupExclusao(user_r1.id));\n    });\n    i0.ɵɵelement(21, \"i\", 14);\n    i0.ɵɵelementStart(22, \"p\");\n    i0.ɵɵtext(23, \"Apagar\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(24, \"div\", 12)(25, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function UsersComponent_div_1_Template_button_click_25_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const user_r1 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.updateUser(user_r1.id, user_r1));\n    });\n    i0.ɵɵelement(26, \"i\", 16);\n    i0.ɵɵelementStart(27, \"p\");\n    i0.ɵɵtext(28, \"Atualizar\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const user_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", user_r1.photo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !user_r1.photo);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", user_r1.name, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", user_r1.email, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", user_r1.data_criacao, \"\");\n  }\n}\nclass UsersComponent {\n  constructor(usersService, dialog) {\n    this.usersService = usersService;\n    this.dialog = dialog;\n    this.users = [];\n  }\n  ngOnInit() {\n    this.getUsers();\n  }\n  createUser(newUser) {\n    this.usersService.createUser(newUser).subscribe(data => {\n      this.getUsers();\n    }, error => {\n      console.log(error);\n    });\n  }\n  getUsers() {\n    this.usersService.getUsers().subscribe(data => {\n      this.users = data;\n    }, error => {\n      console.log(error);\n    });\n  }\n  deleteUser(id) {\n    this.usersService.deleteUser(id).subscribe(data => {\n      this.getUsers();\n    }, error => {\n      console.log(error);\n    });\n  }\n  exibirPopupExclusao(id) {\n    const dialogRef = this.dialog.open(ExclusaoComponente, {\n      data: {\n        mensagem: 'Deseja excluir o usuário?'\n      },\n      panelClass: 'custom-dialog-container'\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.deleteUser(id);\n        document.body.style.overflow = 'hidden';\n        setTimeout(() => {\n          location.reload();\n        }, 300);\n      }\n    });\n  }\n  updateUser(id, user) {\n    const dialogRef = this.dialog.open(UpdateFormComponent, {\n      data: {\n        user: user\n      }\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && result.newName && result.newEmail) {\n        const updatedUser = {\n          name: result.newName,\n          email: result.newEmail\n        };\n        this.usersService.updateUser(id, updatedUser).subscribe(data => {\n          this.getUsers();\n        }, error => {\n          console.log(error);\n        });\n      }\n    });\n  }\n  createNewUser() {\n    const dialogRef = this.dialog.open(CreateUserComponent, {});\n    dialogRef.afterClosed().subscribe(result => {\n      if (result && result.name && result.email) {\n        const newUser = {\n          name: result.name,\n          email: result.email\n        };\n        this.createUser(newUser);\n      }\n    });\n  }\n}\nUsersComponent.ɵfac = function UsersComponent_Factory(t) {\n  return new (t || UsersComponent)(i0.ɵɵdirectiveInject(i1.UsersService), i0.ɵɵdirectiveInject(i2.MatDialog));\n};\nUsersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsersComponent,\n  selectors: [[\"app-users\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[1, \"user-cards\"], [\"class\", \"user-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"user-card\"], [1, \"user-photo-section\"], [1, \"user-photo\"], [\"alt\", \"Foto do Usu\\u00E1rio\", \"class\", \"user-avatar\", 3, \"src\", 4, \"ngIf\"], [\"class\", \"default-avatar\", 4, \"ngIf\"], [1, \"user-data\"], [\"id\", \"name\"], [\"id\", \"email\"], [\"id\", \"creation-date\"], [1, \"user-actions\"], [1, \"action-item\"], [1, \"delete-button\", 3, \"click\"], [1, \"fas\", \"fa-trash-alt\"], [1, \"update-button\", 3, \"click\"], [1, \"fas\", \"fa-pencil-alt\"], [\"alt\", \"Foto do Usu\\u00E1rio\", 1, \"user-avatar\", 3, \"src\"], [1, \"default-avatar\"]],\n  template: function UsersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, UsersComponent_div_1_Template, 29, 5, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.users);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf],\n  styles: [\".user-cards[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(3, 1fr);\\n  overflow-x: scroll;\\n  gap: 1.6rem;\\n}\\n\\n.user-card[_ngcontent-%COMP%] {\\n  border-radius: .8rem;\\n  padding: 1.6rem;\\n  margin: .8rem;\\n  word-wrap: break-word;\\n  background-color: var(--secundary-color);\\n  box-shadow: var(--shadow);\\n}\\n\\n.user-data[_ngcontent-%COMP%]   *[_ngcontent-%COMP%] {\\n  color: #FFF;\\n}\\n\\n.user-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  line-height: 2.4rem;\\n}\\n\\n.user-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%] {\\n  margin-right: .4rem;\\n}\\n\\n.user-photo-section[_ngcontent-%COMP%] {\\n  margin-bottom: 2.4rem;\\n}\\n\\n.user-photo[_ngcontent-%COMP%] {\\n  width: 10.0rem;\\n  height: 10.0rem;\\n  border-radius: 50%;\\n  overflow: hidden;\\n  margin: 0 auto;\\n  background-image: url('/src/assets/');\\n  background-size: cover;\\n  background-position: center;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.user-actions[_ngcontent-%COMP%] {\\n  margin-top: 1.6rem;\\n  display: flex;\\n  flex-direction: column;\\n  gap: .8rem;\\n}\\n\\n.delete-button[_ngcontent-%COMP%], .update-button[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  border: none;\\n  gap: .8rem;\\n  padding: .8rem 1.6rem;\\n  border-radius: .8rem;\\n  font-weight: 700;\\n  width: 100%;\\n  text-align: center;\\n}\\n\\n[_ngcontent-%COMP%]:is(.delete-button:hover, .update-button[_ngcontent-%COMP%]:hover) {\\n  opacity: .87;\\n  cursor: pointer;\\n}\\n\\n.delete-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .update-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .details-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  margin-right: .8rem;\\n}\\n\\n.delete-button[_ngcontent-%COMP%] {\\n  background-color: #FF6A55;\\n  color: white;\\n}\\n\\n.update-button[_ngcontent-%COMP%] {\\n  background-color: #2BD23C;\\n  color: white;\\n}\\n\\n.details-button[_ngcontent-%COMP%] {\\n  background-color: rgb(0, 32, 128);\\n  color: white;\\n}\\n\\n.user-photo[_ngcontent-%COMP%] {\\n  width: 10.0rem;\\n  height: 10.0rem;\\n  border-radius: 50%;\\n  overflow: hidden;\\n  margin: 0 auto;\\n  background-color: #f2f2f2;\\n  background-image: url('/assets/icons/empty-user.png');\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.user-avatar[_ngcontent-%COMP%] {\\n  width: 8.0rem;\\n  height: 8.0rem;\\n  object-fit: cover;\\n  border-radius: 50%;\\n}\\n\\n.user-avatar[src=\\\"\\\"][_ngcontent-%COMP%] {\\n  display: none;\\n}\\n\\n.user-avatar[src=\\\"\\\"][_ngcontent-%COMP%]:after {\\n  content: \\\"\\\";\\n  width: 8.0rem;\\n  height: 8.0rem;\\n  background-color: #ccc;\\n  border-radius: 50%;\\n}\\n\\n.default-avatar[_ngcontent-%COMP%] {\\n  width: 8.0rem;\\n  height: 8.0rem;\\n  background-size: cover;\\n  border-radius: 50%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlcnMvdXNlcnMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYixxQ0FBcUM7RUFDckMsa0JBQWtCO0VBQ2xCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLG9CQUFvQjtFQUNwQixlQUFlO0VBQ2YsYUFBYTtFQUNiLHFCQUFxQjtFQUNyQix3Q0FBd0M7RUFDeEMseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsV0FBVztBQUNiOztBQUVBO0VBQ0UsU0FBUztFQUNULGdCQUFnQjtFQUNoQix1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QscUNBQXFDO0VBQ3JDLHNCQUFzQjtFQUN0QiwyQkFBMkI7RUFDM0IsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixVQUFVO0FBQ1o7O0FBRUE7O0VBRUUsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQix1QkFBdUI7RUFDdkIsWUFBWTtFQUNaLFVBQVU7RUFDVixxQkFBcUI7RUFDckIsb0JBQW9CO0VBQ3BCLGdCQUFnQjtFQUNoQixXQUFXO0VBQ1gsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsWUFBWTtFQUNaLGVBQWU7QUFDakI7O0FBRUE7OztFQUdFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsWUFBWTtBQUNkOztBQUVBO0VBQ0UsaUNBQWlDO0VBQ2pDLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGNBQWM7RUFDZCxlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixjQUFjO0VBQ2QseUJBQXlCO0VBQ3pCLHFEQUFxRDtFQUNyRCxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLGFBQWE7RUFDYixjQUFjO0VBQ2QsaUJBQWlCO0VBQ2pCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGFBQWE7QUFDZjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxhQUFhO0VBQ2IsY0FBYztFQUNkLHNCQUFzQjtFQUN0QixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsY0FBYztFQUNkLHNCQUFzQjtFQUN0QixrQkFBa0I7QUFDcEIiLCJzb3VyY2VzQ29udGVudCI6WyIudXNlci1jYXJkcyB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDMsIDFmcik7XG4gIG92ZXJmbG93LXg6IHNjcm9sbDtcbiAgZ2FwOiAxLjZyZW07XG59XG5cbi51c2VyLWNhcmQge1xuICBib3JkZXItcmFkaXVzOiAuOHJlbTtcbiAgcGFkZGluZzogMS42cmVtO1xuICBtYXJnaW46IC44cmVtO1xuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXNlY3VuZGFyeS1jb2xvcik7XG4gIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdyk7XG59XG5cbi51c2VyLWRhdGEgKiB7XG4gIGNvbG9yOiAjRkZGO1xufVxuXG4udXNlci1kYXRhIHAge1xuICBtYXJnaW46IDA7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBsaW5lLWhlaWdodDogMi40cmVtO1xufVxuXG4udXNlci1kYXRhIHAgc3Ryb25nIHtcbiAgbWFyZ2luLXJpZ2h0OiAuNHJlbTtcbn1cblxuLnVzZXItcGhvdG8tc2VjdGlvbiB7XG4gIG1hcmdpbi1ib3R0b206IDIuNHJlbTtcbn1cblxuLnVzZXItcGhvdG8ge1xuICB3aWR0aDogMTAuMHJlbTtcbiAgaGVpZ2h0OiAxMC4wcmVtO1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIG1hcmdpbjogMCBhdXRvO1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9zcmMvYXNzZXRzLycpO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4udXNlci1hY3Rpb25zIHtcbiAgbWFyZ2luLXRvcDogMS42cmVtO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBnYXA6IC44cmVtO1xufVxuXG4uZGVsZXRlLWJ1dHRvbixcbi51cGRhdGUtYnV0dG9uIHtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGJvcmRlcjogbm9uZTtcbiAgZ2FwOiAuOHJlbTtcbiAgcGFkZGluZzogLjhyZW0gMS42cmVtO1xuICBib3JkZXItcmFkaXVzOiAuOHJlbTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgd2lkdGg6IDEwMCU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuOmlzKC5kZWxldGUtYnV0dG9uOmhvdmVyLCAudXBkYXRlLWJ1dHRvbjpob3Zlcikge1xuICBvcGFjaXR5OiAuODc7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmRlbGV0ZS1idXR0b24gaSxcbi51cGRhdGUtYnV0dG9uIGksXG4uZGV0YWlscy1idXR0b24gaSB7XG4gIG1hcmdpbi1yaWdodDogLjhyZW07XG59XG5cbi5kZWxldGUtYnV0dG9uIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZGNkE1NTtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4udXBkYXRlLWJ1dHRvbiB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMyQkQyM0M7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLmRldGFpbHMtYnV0dG9uIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDAsIDMyLCAxMjgpO1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi51c2VyLXBob3RvIHtcbiAgd2lkdGg6IDEwLjByZW07XG4gIGhlaWdodDogMTAuMHJlbTtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBtYXJnaW46IDAgYXV0bztcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2ljb25zL2VtcHR5LXVzZXIucG5nJyk7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4udXNlci1hdmF0YXIge1xuICB3aWR0aDogOC4wcmVtO1xuICBoZWlnaHQ6IDguMHJlbTtcbiAgb2JqZWN0LWZpdDogY292ZXI7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbn1cblxuLnVzZXItYXZhdGFyW3NyYz1cIlwiXSB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi51c2VyLWF2YXRhcltzcmM9XCJcIl06YWZ0ZXIge1xuICBjb250ZW50OiBcIlwiO1xuICB3aWR0aDogOC4wcmVtO1xuICBoZWlnaHQ6IDguMHJlbTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NjYztcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xufVxuXG4uZGVmYXVsdC1hdmF0YXIge1xuICB3aWR0aDogOC4wcmVtO1xuICBoZWlnaHQ6IDguMHJlbTtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport { UsersComponent };","map":{"version":3,"names":["ExclusaoComponente","CreateUserComponent","UpdateFormComponent","i0","ɵɵelement","ɵɵproperty","user_r1","photo","ɵɵsanitizeUrl","ɵɵelementStart","ɵɵtemplate","UsersComponent_div_1_img_3_Template","UsersComponent_div_1_div_4_Template","ɵɵelementEnd","ɵɵtext","ɵɵlistener","UsersComponent_div_1_Template_button_click_20_listener","restoredCtx","ɵɵrestoreView","_r6","$implicit","ctx_r5","ɵɵnextContext","ɵɵresetView","exibirPopupExclusao","id","UsersComponent_div_1_Template_button_click_25_listener","ctx_r7","updateUser","ɵɵadvance","ɵɵtextInterpolate1","name","email","data_criacao","UsersComponent","constructor","usersService","dialog","users","ngOnInit","getUsers","createUser","newUser","subscribe","data","error","console","log","deleteUser","dialogRef","open","mensagem","panelClass","afterClosed","result","document","body","style","overflow","setTimeout","location","reload","user","newName","newEmail","updatedUser","createNewUser","ɵɵdirectiveInject","i1","UsersService","i2","MatDialog","selectors","decls","vars","consts","template","UsersComponent_Template","rf","ctx","UsersComponent_div_1_Template"],"sources":["/home/ednaldoluiz/Desktop/GithuRepositorio/TaskMeCRUD/TaskMeCRUD/TaskMe_Back-End/front-end/src/app/users/users.component.ts","/home/ednaldoluiz/Desktop/GithuRepositorio/TaskMeCRUD/TaskMeCRUD/TaskMe_Back-End/front-end/src/app/users/users.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { UsersService } from '../service/users.service';\nimport { MatDialog } from '@angular/material/dialog';\nimport { ExclusaoComponente } from '../exclusao/exclusao.component';\nimport { CreateUserComponent } from '../create-user/create-user.component';\nimport { UpdateFormComponent } from '../update-form/update-form.component';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.css']\n})\nexport class UsersComponent implements OnInit {\n  users: any[];\n\n  constructor(private usersService: UsersService, public dialog: MatDialog) {\n    this.users = [];\n  }\n\n  ngOnInit() {\n    this.getUsers();\n  }\n\n  createUser(newUser: any) {\n    this.usersService.createUser(newUser).subscribe(\n      (data) => {\n        this.getUsers();\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n\n  getUsers() {\n    this.usersService.getUsers().subscribe(\n      (data) => {\n        this.users = data;\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n\n  deleteUser(id: string) {\n    this.usersService.deleteUser(id).subscribe(\n      (data) => {\n        this.getUsers();\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n\n  exibirPopupExclusao(id: string) {\n    const dialogRef = this.dialog.open(ExclusaoComponente, {\n      data: {\n        mensagem: 'Deseja excluir o usuário?'\n      },\n      panelClass: 'custom-dialog-container'\n    });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      if (result) {\n        this.deleteUser(id);\n        document.body.style.overflow = 'hidden';\n        setTimeout(() => {\n          location.reload();\n        }, 300);\n      }\n    });\n  }\n\n  updateUser(id: string, user: any) {\n    const dialogRef = this.dialog.open(UpdateFormComponent, {\n      data: { user: user }\n    });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      if (result && result.newName && result.newEmail) {\n        const updatedUser = {\n          name: result.newName,\n          email: result.newEmail\n        };\n\n        this.usersService.updateUser(id, updatedUser).subscribe(\n          (data) => {\n            this.getUsers();\n          },\n          (error) => {\n            console.log(error);\n          }\n        );\n      }\n    });\n  }\n\n  createNewUser() {\n    const dialogRef = this.dialog.open(CreateUserComponent, {\n\n    });\n\n    dialogRef.afterClosed().subscribe((result) => {\n      if (result && result.name && result.email) {\n        const newUser = {\n          name: result.name,\n          email: result.email\n        };\n\n        this.createUser(newUser);\n      }\n    });\n  }\n}\n","<div class=\"user-cards\">\n  <div *ngFor=\"let user of users\" class=\"user-card\">\n    <div class=\"user-photo-section\">\n      <div class=\"user-photo\">\n        <img *ngIf=\"user.photo\" [src]=\"user.photo\" alt=\"Foto do Usuário\" class=\"user-avatar\">\n        <div *ngIf=\"!user.photo\" class=\"default-avatar\"></div>\n      </div>\n    </div>\n    <div class=\"user-data\">\n      <p id=\"name\"><strong>Nome:</strong> {{ user.name }}</p>\n      <p id=\"email\"><strong>E-mail:</strong> {{ user.email }}</p>\n      <p id=\"creation-date\"><strong>Data de Criação:</strong> {{ user.data_criacao }}</p>\n    </div>\n    <div class=\"user-actions\">\n      <div class=\"action-item\">\n        <button class=\"delete-button\" (click)=\"exibirPopupExclusao(user.id)\">\n          <i class=\"fas fa-trash-alt\"></i>\n          <p>Apagar</p>\n        </button>\n      </div>\n      <div class=\"action-item\">\n        <button class=\"update-button\" (click)=\"updateUser(user.id, user)\">\n          <i class=\"fas fa-pencil-alt\"></i>\n          <p>Atualizar</p>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>"],"mappings":"AAGA,SAASA,kBAAkB,QAAQ,gCAAgC;AACnE,SAASC,mBAAmB,QAAQ,sCAAsC;AAC1E,SAASC,mBAAmB,QAAQ,sCAAsC;;;;;;;ICDlEC,EAAA,CAAAC,SAAA,cAAqF;;;;IAA7DD,EAAA,CAAAE,UAAA,QAAAC,OAAA,CAAAC,KAAA,EAAAJ,EAAA,CAAAK,aAAA,CAAkB;;;;;IAC1CL,EAAA,CAAAC,SAAA,cAAsD;;;;;;IAJ5DD,EAAA,CAAAM,cAAA,aAAkD;IAG5CN,EAAA,CAAAO,UAAA,IAAAC,mCAAA,iBAAqF;IACrFR,EAAA,CAAAO,UAAA,IAAAE,mCAAA,iBAAsD;IACxDT,EAAA,CAAAU,YAAA,EAAM;IAERV,EAAA,CAAAM,cAAA,aAAuB;IACAN,EAAA,CAAAW,MAAA,YAAK;IAAAX,EAAA,CAAAU,YAAA,EAAS;IAACV,EAAA,CAAAW,MAAA,GAAe;IAAAX,EAAA,CAAAU,YAAA,EAAI;IACvDV,EAAA,CAAAM,cAAA,YAAc;IAAQN,EAAA,CAAAW,MAAA,eAAO;IAAAX,EAAA,CAAAU,YAAA,EAAS;IAACV,EAAA,CAAAW,MAAA,IAAgB;IAAAX,EAAA,CAAAU,YAAA,EAAI;IAC3DV,EAAA,CAAAM,cAAA,aAAsB;IAAQN,EAAA,CAAAW,MAAA,kCAAgB;IAAAX,EAAA,CAAAU,YAAA,EAAS;IAACV,EAAA,CAAAW,MAAA,IAAuB;IAAAX,EAAA,CAAAU,YAAA,EAAI;IAErFV,EAAA,CAAAM,cAAA,eAA0B;IAEQN,EAAA,CAAAY,UAAA,mBAAAC,uDAAA;MAAA,MAAAC,WAAA,GAAAd,EAAA,CAAAe,aAAA,CAAAC,GAAA;MAAA,MAAAb,OAAA,GAAAW,WAAA,CAAAG,SAAA;MAAA,MAAAC,MAAA,GAAAlB,EAAA,CAAAmB,aAAA;MAAA,OAASnB,EAAA,CAAAoB,WAAA,CAAAF,MAAA,CAAAG,mBAAA,CAAAlB,OAAA,CAAAmB,EAAA,CAA4B;IAAA,EAAC;IAClEtB,EAAA,CAAAC,SAAA,aAAgC;IAChCD,EAAA,CAAAM,cAAA,SAAG;IAAAN,EAAA,CAAAW,MAAA,cAAM;IAAAX,EAAA,CAAAU,YAAA,EAAI;IAGjBV,EAAA,CAAAM,cAAA,eAAyB;IACON,EAAA,CAAAY,UAAA,mBAAAW,uDAAA;MAAA,MAAAT,WAAA,GAAAd,EAAA,CAAAe,aAAA,CAAAC,GAAA;MAAA,MAAAb,OAAA,GAAAW,WAAA,CAAAG,SAAA;MAAA,MAAAO,MAAA,GAAAxB,EAAA,CAAAmB,aAAA;MAAA,OAASnB,EAAA,CAAAoB,WAAA,CAAAI,MAAA,CAAAC,UAAA,CAAAtB,OAAA,CAAAmB,EAAA,EAAAnB,OAAA,CAAyB;IAAA,EAAC;IAC/DH,EAAA,CAAAC,SAAA,aAAiC;IACjCD,EAAA,CAAAM,cAAA,SAAG;IAAAN,EAAA,CAAAW,MAAA,iBAAS;IAAAX,EAAA,CAAAU,YAAA,EAAI;;;;IAnBZV,EAAA,CAAA0B,SAAA,GAAgB;IAAhB1B,EAAA,CAAAE,UAAA,SAAAC,OAAA,CAAAC,KAAA,CAAgB;IAChBJ,EAAA,CAAA0B,SAAA,GAAiB;IAAjB1B,EAAA,CAAAE,UAAA,UAAAC,OAAA,CAAAC,KAAA,CAAiB;IAIWJ,EAAA,CAAA0B,SAAA,GAAe;IAAf1B,EAAA,CAAA2B,kBAAA,MAAAxB,OAAA,CAAAyB,IAAA,KAAe;IACZ5B,EAAA,CAAA0B,SAAA,GAAgB;IAAhB1B,EAAA,CAAA2B,kBAAA,MAAAxB,OAAA,CAAA0B,KAAA,KAAgB;IACC7B,EAAA,CAAA0B,SAAA,GAAuB;IAAvB1B,EAAA,CAAA2B,kBAAA,MAAAxB,OAAA,CAAA2B,YAAA,KAAuB;;;ADJrF,MAKaC,cAAc;EAGzBC,YAAoBC,YAA0B,EAASC,MAAiB;IAApD,KAAAD,YAAY,GAAZA,YAAY;IAAuB,KAAAC,MAAM,GAANA,MAAM;IAC3D,IAAI,CAACC,KAAK,GAAG,EAAE;EACjB;EAEAC,QAAQA,CAAA;IACN,IAAI,CAACC,QAAQ,EAAE;EACjB;EAEAC,UAAUA,CAACC,OAAY;IACrB,IAAI,CAACN,YAAY,CAACK,UAAU,CAACC,OAAO,CAAC,CAACC,SAAS,CAC5CC,IAAI,IAAI;MACP,IAAI,CAACJ,QAAQ,EAAE;IACjB,CAAC,EACAK,KAAK,IAAI;MACRC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CACF;EACH;EAEAL,QAAQA,CAAA;IACN,IAAI,CAACJ,YAAY,CAACI,QAAQ,EAAE,CAACG,SAAS,CACnCC,IAAI,IAAI;MACP,IAAI,CAACN,KAAK,GAAGM,IAAI;IACnB,CAAC,EACAC,KAAK,IAAI;MACRC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CACF;EACH;EAEAG,UAAUA,CAACvB,EAAU;IACnB,IAAI,CAACW,YAAY,CAACY,UAAU,CAACvB,EAAE,CAAC,CAACkB,SAAS,CACvCC,IAAI,IAAI;MACP,IAAI,CAACJ,QAAQ,EAAE;IACjB,CAAC,EACAK,KAAK,IAAI;MACRC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CACF;EACH;EAEArB,mBAAmBA,CAACC,EAAU;IAC5B,MAAMwB,SAAS,GAAG,IAAI,CAACZ,MAAM,CAACa,IAAI,CAAClD,kBAAkB,EAAE;MACrD4C,IAAI,EAAE;QACJO,QAAQ,EAAE;OACX;MACDC,UAAU,EAAE;KACb,CAAC;IAEFH,SAAS,CAACI,WAAW,EAAE,CAACV,SAAS,CAAEW,MAAM,IAAI;MAC3C,IAAIA,MAAM,EAAE;QACV,IAAI,CAACN,UAAU,CAACvB,EAAE,CAAC;QACnB8B,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,QAAQ;QACvCC,UAAU,CAAC,MAAK;UACdC,QAAQ,CAACC,MAAM,EAAE;QACnB,CAAC,EAAE,GAAG,CAAC;;IAEX,CAAC,CAAC;EACJ;EAEAjC,UAAUA,CAACH,EAAU,EAAEqC,IAAS;IAC9B,MAAMb,SAAS,GAAG,IAAI,CAACZ,MAAM,CAACa,IAAI,CAAChD,mBAAmB,EAAE;MACtD0C,IAAI,EAAE;QAAEkB,IAAI,EAAEA;MAAI;KACnB,CAAC;IAEFb,SAAS,CAACI,WAAW,EAAE,CAACV,SAAS,CAAEW,MAAM,IAAI;MAC3C,IAAIA,MAAM,IAAIA,MAAM,CAACS,OAAO,IAAIT,MAAM,CAACU,QAAQ,EAAE;QAC/C,MAAMC,WAAW,GAAG;UAClBlC,IAAI,EAAEuB,MAAM,CAACS,OAAO;UACpB/B,KAAK,EAAEsB,MAAM,CAACU;SACf;QAED,IAAI,CAAC5B,YAAY,CAACR,UAAU,CAACH,EAAE,EAAEwC,WAAW,CAAC,CAACtB,SAAS,CACpDC,IAAI,IAAI;UACP,IAAI,CAACJ,QAAQ,EAAE;QACjB,CAAC,EACAK,KAAK,IAAI;UACRC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;QACpB,CAAC,CACF;;IAEL,CAAC,CAAC;EACJ;EAEAqB,aAAaA,CAAA;IACX,MAAMjB,SAAS,GAAG,IAAI,CAACZ,MAAM,CAACa,IAAI,CAACjD,mBAAmB,EAAE,EAEvD,CAAC;IAEFgD,SAAS,CAACI,WAAW,EAAE,CAACV,SAAS,CAAEW,MAAM,IAAI;MAC3C,IAAIA,MAAM,IAAIA,MAAM,CAACvB,IAAI,IAAIuB,MAAM,CAACtB,KAAK,EAAE;QACzC,MAAMU,OAAO,GAAG;UACdX,IAAI,EAAEuB,MAAM,CAACvB,IAAI;UACjBC,KAAK,EAAEsB,MAAM,CAACtB;SACf;QAED,IAAI,CAACS,UAAU,CAACC,OAAO,CAAC;;IAE5B,CAAC,CAAC;EACJ;;AAtGWR,cAAc,C;mBAAdA,cAAc,EAAA/B,EAAA,CAAAgE,iBAAA,CAAAC,EAAA,CAAAC,YAAA,GAAAlE,EAAA,CAAAgE,iBAAA,CAAAG,EAAA,CAAAC,SAAA;AAAA;AAAdrC,cAAc,C;QAAdA,cAAc;EAAAsC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,wBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCZ3B3E,EAAA,CAAAM,cAAA,aAAwB;MACtBN,EAAA,CAAAO,UAAA,IAAAsE,6BAAA,kBA0BM;MACR7E,EAAA,CAAAU,YAAA,EAAM;;;MA3BkBV,EAAA,CAAA0B,SAAA,GAAQ;MAAR1B,EAAA,CAAAE,UAAA,YAAA0E,GAAA,CAAAzC,KAAA,CAAQ;;;;;;SDWnBJ,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}